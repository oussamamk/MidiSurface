<UserControl x:Class="MidiSurface.Controls.ChannelStripControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:c="clr-namespace:MidiSurface.Controls"
             Width="130" Height="450">

    <Border BorderBrush="Gray" BorderThickness="1" CornerRadius="5" Margin="3" Padding="5">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- === MAIN STRIP === -->
            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                <!-- Channel Name -->
                <TextBlock Text="{Binding ChannelName}"
                           FontWeight="Bold"
                           FontSize="14"
                           Margin="0,0,0,10" 
                           TextAlignment="Center"/>

                <!-- Knob -->
                <c:KnobControl
                    Width="60" Height="60"
                    Minimum="{Binding KnobMinimum}"
                    Maximum="{Binding KnobMaximum}"
                    Value="{Binding KnobValue}"
                    Label="{Binding KnobLabel}"
                    Margin="0,0,0,8"/>

                <!-- Fader -->
                <c:FaderControl
                    Width="40" Height="260"
                    Minimum="{Binding FaderMinimum}"
                    Maximum="{Binding FaderMaximum}"
                    Value="{Binding FaderValue}"
                    Label="{Binding FaderLabel}"
                    Margin="0,0,0,20"/>
            </StackPanel>

            <!-- === BUTTONS === -->
            <ItemsControl Grid.Column="1"
                          ItemsSource="{Binding Buttons}"
                          VerticalAlignment="Top"
                          Margin="-10,130,0,0">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button Content="{Binding Label}"
                                Width="35" Height="35"
                                Margin="10"
                                Background="{Binding IsLit, Converter={StaticResource BoolToBrushConverter}}"
                                Foreground="White"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Grid>
    </Border>
</UserControl>